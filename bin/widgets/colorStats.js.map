{"version":3,"file":"colorStats.js","names":["d3","ColorStats","constructor","buildStats","element","data","width","height","radius","Math","min","color","scaleOrdinal","domain","map","d","range","pie","value","count","sort","arc","innerRadius","outerRadius","label","document","createElement","textContent","classList","add","appendChild","svg","select","append","attr","arcs","selectAll","enter"],"sources":["../../src/widgets/colorStats.js"],"sourcesContent":["import * as d3 from \"d3\";\r\nclass ColorStats {\r\n\r\n    constructor() {\r\n    }\r\n\r\n    buildStats(element, data){\r\n        const width = 200;\r\n        const height = 200;\r\n        const radius = Math.min(width, height) / 2;\r\n\r\n        const color = d3.scaleOrdinal()\r\n            .domain(data.map(d => d.color))\r\n            .range(['#F0E68C', '#4682B4', '#2F4F4F', '#B22222', '#228B22', '#A9A9A9']);\r\n\r\n        const pie = d3.pie()\r\n            .value(d => d.count)\r\n            .sort(null);\r\n\r\n        const arc = d3.arc()\r\n            .innerRadius(0)\r\n            .outerRadius(radius);\r\n        const label = document.createElement('label')\r\n        label.textContent = \"Deck Mana Color Distribution\";\r\n        label.classList.add(\"colorLabel\");\r\n        element.appendChild(label)\r\n        const svg = d3.select(element)\r\n            .append(\"svg\")\r\n            .attr(\"width\", width)\r\n            .attr(\"height\", height)\r\n            .append(\"g\")\r\n            .attr(\"transform\", `translate(${width / 2},${height / 2})`);\r\n\r\n        const arcs = svg.selectAll(\"arc\")\r\n            .data(pie(data))\r\n            .enter()\r\n            .append(\"g\")\r\n            .attr(\"class\", \"arc\");\r\n\r\n        arcs.append(\"path\")\r\n            .attr(\"d\", arc)\r\n            .attr(\"fill\", d => color(d.data.color));\r\n\r\n    }\r\n\r\n}\r\nexport { ColorStats };"],"mappings":"AAAA,OAAO,KAAKA,EAAE,MAAM,IAAI;AACxB,MAAMC,UAAU,CAAC;EAEbC,WAAWA,CAAA,EAAG,CACd;EAEAC,UAAUA,CAACC,OAAO,EAAEC,IAAI,EAAC;IACrB,MAAMC,KAAK,GAAG,GAAG;IACjB,MAAMC,MAAM,GAAG,GAAG;IAClB,MAAMC,MAAM,GAAGC,IAAI,CAACC,GAAG,CAACJ,KAAK,EAAEC,MAAM,CAAC,GAAG,CAAC;IAE1C,MAAMI,KAAK,GAAGX,EAAE,CAACY,YAAY,CAAC,CAAC,CAC1BC,MAAM,CAACR,IAAI,CAACS,GAAG,CAACC,CAAC,IAAIA,CAAC,CAACJ,KAAK,CAAC,CAAC,CAC9BK,KAAK,CAAC,CAAC,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,CAAC,CAAC;IAE9E,MAAMC,GAAG,GAAGjB,EAAE,CAACiB,GAAG,CAAC,CAAC,CACfC,KAAK,CAACH,CAAC,IAAIA,CAAC,CAACI,KAAK,CAAC,CACnBC,IAAI,CAAC,IAAI,CAAC;IAEf,MAAMC,GAAG,GAAGrB,EAAE,CAACqB,GAAG,CAAC,CAAC,CACfC,WAAW,CAAC,CAAC,CAAC,CACdC,WAAW,CAACf,MAAM,CAAC;IACxB,MAAMgB,KAAK,GAAGC,QAAQ,CAACC,aAAa,CAAC,OAAO,CAAC;IAC7CF,KAAK,CAACG,WAAW,GAAG,8BAA8B;IAClDH,KAAK,CAACI,SAAS,CAACC,GAAG,CAAC,YAAY,CAAC;IACjCzB,OAAO,CAAC0B,WAAW,CAACN,KAAK,CAAC;IAC1B,MAAMO,GAAG,GAAG/B,EAAE,CAACgC,MAAM,CAAC5B,OAAO,CAAC,CACzB6B,MAAM,CAAC,KAAK,CAAC,CACbC,IAAI,CAAC,OAAO,EAAE5B,KAAK,CAAC,CACpB4B,IAAI,CAAC,QAAQ,EAAE3B,MAAM,CAAC,CACtB0B,MAAM,CAAC,GAAG,CAAC,CACXC,IAAI,CAAC,WAAW,EAAE,aAAa5B,KAAK,GAAG,CAAC,IAAIC,MAAM,GAAG,CAAC,GAAG,CAAC;IAE/D,MAAM4B,IAAI,GAAGJ,GAAG,CAACK,SAAS,CAAC,KAAK,CAAC,CAC5B/B,IAAI,CAACY,GAAG,CAACZ,IAAI,CAAC,CAAC,CACfgC,KAAK,CAAC,CAAC,CACPJ,MAAM,CAAC,GAAG,CAAC,CACXC,IAAI,CAAC,OAAO,EAAE,KAAK,CAAC;IAEzBC,IAAI,CAACF,MAAM,CAAC,MAAM,CAAC,CACdC,IAAI,CAAC,GAAG,EAAEb,GAAG,CAAC,CACda,IAAI,CAAC,MAAM,EAAEnB,CAAC,IAAIJ,KAAK,CAACI,CAAC,CAACV,IAAI,CAACM,KAAK,CAAC,CAAC;EAE/C;AAEJ;AACA,SAASV,UAAU","ignoreList":[]}